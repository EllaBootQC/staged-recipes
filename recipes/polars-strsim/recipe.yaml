context:
  name: polars-strsim
  version: "0.2.3"

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: https://files.pythonhosted.org/packages/cd/0a/2f7dac45cfebc9372faabd183f52f05a7b5349722666f492056d64bc8e1f/${{ name|replace("-","_") }}-${{ version }}.tar.gz 
  sha256: 3e92bc81c933867e3e812a7000a51bc830d78377e079e0fc98bb26ad022879e3
  patches: bump_polars.patch

build:
  script: 
    - python -m pip install . -vv
    - cargo-bundle-licenses --format yaml --output THIRDPARTY.yml
  number: 0

requirements:
  build:
    - ${{ compiler('rust') }}
    - ${{ compiler('c') }}
    - ${{ stdlib("c") }}
    - cargo-bundle-licenses
  host:
    - python
    - maturin >=1.7.1,<2.0
    - pip
  run:
    - python
    - polars >=1.0,<2.0
  
tests:
  - python:
      imports:
        - polars_strsim
      pip_check: true

about:
  homepage: https://github.com/foxcroftjn/polars-strsim
  summary: 'Polars extension for string similarity'
  description: |
    This package provides python bindings to compute various string similarity measures directly on a polars dataframe. All string similarity measures are implemented in rust and computed in parallel. The similarity measures that have been implemented are:
    Levenshtein
    Jaro
    Jaro-Winkler
    Jaccard
    SÃ¸rensen-Dice
    Each similarity measure returns a value normalized between 0.0 and 1.0 (inclusive), where 0.0 indicates the inputs are maximally different and 1.0 means the strings are maximally similar.
  license: MIT
  license_file: 
    - LICENSE
    - tHIRDPARTY.yml
  repository: https://github.com/foxcroftjn/polars-strsim

extra:
  recipe-maintainers:
    - EllaBootQC
