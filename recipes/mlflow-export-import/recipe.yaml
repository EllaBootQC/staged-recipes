context:
  name: mlflow-export-import
  version: "1.1.2"

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: https://github.com/mlflow/${{ name }}/archive/refs/tags/v${{ version }}.tar.gz
  sha256: 336bd0fe3a16ac2198774f89d2642df5d103d306a5a6d3b48f3eed90dbddf9c3

build:
  script: python -m pip install . -vv
  number: 0

requirements:
  build:
    - ${{ compiler('c') }}
    - ${{ stdlib('c') }}
    - mlflow
    - databricks-cli ==0.18.0
    - pandas >=1.5.2
    - tabulate ==0.9.0
    - wheel
    - pip
  host:
    - python
    - setuptools
  run:
    - python

tests:
  - script:
      - test ${PREFIX}/include/mlflow-export-import

about:
  homepage:  https://github.com/mlflow/mlflow-export-import
  summary: 'Tools to copy MLflow objects'
  description: |
    The MLflow Export Import package provides tools to copy MLflow objects (runs, experiments or registered models) from one MLflow tracking server (Databricks workspace) to another. Using the MLflow REST API, the tools export MLflow objects to an intermediate directory and then import them into the target tracking server.
  license: Apache-2.0
  license_file: LICENSE.txt
  repository: https://github.com/mlflow/mlflow-export-import

extra:
  recipe-maintainers:
    - EllaBootQC
